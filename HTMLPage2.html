<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Ecommerce Shop</title>
</head>
<body>
    <h1>Ecommerce Shop</h1>
    <ul>
        <li>
            <h2>Prodotto 1</h2>
            <p>Descrizione del prodotto 1.</p>
            <button onclick="addToCart('Prodotto 1', 19.99)">Aggiungi al carrello</button>
        </li>
        <li>
            <h2>Prodotto 2</h2>
            <p>Descrizione del prodotto 2.</p>
            <button onclick="addToCart('Prodotto 2', 29.99)">Aggiungi al carrello</button>
        </li>
        <li>
            <h2>Prodotto 3</h2>
            <p>Descrizione del prodotto 3.</p>
            <button onclick="addToCart('Prodotto 3', 39.99)">Aggiungi al carrello</button>
        </li>
    </ul>
    <h2>Carrello</h2>
    <ul id="cart"></ul>
    <div>
        <button onclick="confirmPurchase()">Conferma acquisto</button>
        <button onclick="clearCart()">Svuota carrello</button>
        <button onclick="removeLastItem()">Rimuovi ultimo elemento</button>
    </div>
    <script>
        var cart = [];

        function addToCart(productName, price) {
            var product = {
                name: productName,
                price: price
            };
            cart.push(product);
            updateCart();
        }

        function clearCart() {
            cart = [];
            updateCart();
        }

        function removeLastItem() {
            cart.pop();
            updateCart();
        }

        function confirmPurchase() {
            if (cart.length === 0) {
                alert('Il carrello è vuoto!');
            } else {
                alert('Acquisto confermato ora 6 povero !');
                clearCart();
            }
        }

        function updateCart() {
            var cartElement = document.getElementById('cart');
            cartElement.innerHTML = '';
            var totalPrice = 0;
            for (var i = 0; i < cart.length; i++) {
                var product = cart[i];
                var li = document.createElement('li');
                li.textContent = product.name + ' - ' + product.price + '€';
                cartElement.appendChild(li);
                totalPrice += product.price;
            }
            var totalLi = document.createElement('li');
            totalLi.textContent = 'Totale: ' + totalPrice + '€';
            cartElement.appendChild(totalLi);
        }
    </script>
</body>
</html>